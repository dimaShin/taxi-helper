<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Taxi Admin</title>
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/map.css">
    <script type="text/javascript" src="js/_lib/require.js" data-main="js/admin/init"></script>
</head>
<body>
<div class="container-fluid loading-bar-container">
    <img src="fonts/loading.gif" class="loading-bar"/>
</div>
<div class="app-container">
    <div ng-controller="orderBldCtrl" class="workplace">
        <div class="container order-builder" >
            <form role="form" name="orderOptions">
                <div class="form-group">
                    <span>От</span><input type="text" class="form-control" placeholder="Адрес от" name="addressFrom" ng-model="addressFrom" required>
                </div>
                <div class="form-group">
                    <span>До</span>
                    <input type="text" class="form-control" placeholder="Адрес до" name="addressTo" ng-model="addressTo" required>
                </div>
                <div class="form-group" ng-repeat="point in waypoints" ng-if="waypoints.length">
                    <span>Через</span>
                    <input type="text" class="form-control" placeholder="Через" ng-model=point.value name={{ $index }} required>
                    <img src="img/delete.png" ng-click="waypoints.splice($index, 1)" class="delete-ico">
                </div>
                <a href="javascript:;" ng-click="waypoints.push({id:'id' + waypoints.length})">Добавить точку через</a>
                <p class="help-block" ng-if="waypoints.length">Возможен некорректный просчет маршрута.</p>
                <div class="row">
                    <div class="order-details">
                        {{ orderDescribe }}
                    </div>
                    <div class="pull-right">
                        <input type="checkbox" name="isUrgent" ng-model="isUrgent"><span>Срочный!</span>
                        <button type="button" class="btn btn-default" ng-click="calcRoute()">Рассчитать маршрут</button>
                        <button type="button" class="btn btn-default" ng-click="publicOrder()" ng-disabled="!order.id">Поставить в очередь</button>
                    </div>

                </div>
            </form>
        </div>
        <div class="container orders-list-container pull-right" ng-controller="orderSlctCtrl">
            <div class="order-selector">
                <input type="text" clas="form-control" placeholder="Идентификатор заказа" ng-model="orderId">
                <button class="btn btn-default" type="button" ng-click="searchOrders(orderId)">Поиск</button>
            </div>
            <div ng-if="orders.length" class="slide-down-animation">
                <ul class="orders-list">
                    <li ng-repeat="order in orders">Старт: {{ order.start }}
                        / Конец: {{ order.finish }}
                        / Статус:
                        <div ng-if="order.accepted">{{ order.accepted }}
                            <span ng-if="order.complete"> Доставлен</span>
                            <span ng-if="!order.complete"> В пути</span>
                        </div>
                        <div ng-if="!order.accepted">В очереди</div>
                    </li>
                </ul>
            </div>
        </div>

    </div>


    <div class="container-fluid map-canvas" id="googleMap"></div>
</div>

</body>
</html>